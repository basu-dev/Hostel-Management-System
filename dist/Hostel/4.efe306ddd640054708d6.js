(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{GCp2:function(t,e,o){"use strict";o.r(e),o.d(e,"AdminModule",function(){return Yt});var r=o("ofXK"),n=o("3Pt+"),i=o("1kSV"),s=o("tyNb"),a=o("j9JA"),c=o("fXoL"),b=o("lGQG"),d=o("a8Zo");let l=(()=>{class t{constructor(t,e,o){this.authSerivce=t,this.router=e,this.alertify=o}canActivate(t,e){return console.log("alsdkfjlaksdjflksajdflkaj lskjd lkj"),this.authSerivce.currentUser==a.a.IsAdmin}}return t.\u0275fac=function(e){return new(e||t)(c.cc(b.a),c.cc(s.b),c.cc(d.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=o("VQPA"),u=o("VuVA"),f=o("aVYO"),h=o("WySn"),p=o("JNh2"),g=o("2Vru");let v=(()=>{class t{constructor(t){this.modalService=t}ngOnInit(){}openModal(t){console.log("opening modal"),this.modalService.open(t)}closeModal(t){this.modalService.close(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(m.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-admin-notices"]],decls:11,vars:2,consts:[[1,"grid"],[1,"student-queries"],[1,"notices"],[3,"for"],[3,"click"],[1,"fa","fa-plus",2,"font","15px"],["id","custom-modal-2","width","600px"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Rb(2,"app-all-queries"),c.Ub(),c.Vb(3,"div",2),c.Rb(4,"app-notices",3),c.Rb(5,"br"),c.Rb(6,"app-notices",3),c.Ub(),c.Ub(),c.Vb(7,"app-floating-button",4),c.fc("click",function(){return e.openModal("custom-modal-2")}),c.Rb(8,"i",5),c.Ub(),c.Vb(9,"jw-modal",6),c.Rb(10,"app-add-notice"),c.Ub()),2&t&&(c.Eb(4),c.pc("for","Hostel"),c.Eb(2),c.pc("for","Mess"))},directives:[u.a,f.a,h.a,p.a,g.a],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:2rem}.notices[_ngcontent-%COMP%]{display:flex;flex-direction:column}.notices[_ngcontent-%COMP%], .student-queries[_ngcontent-%COMP%]{height:var(--content-height)}"]}),t})();function U(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," username cannot be blank "),c.Ub())}function V(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," Email cannot be blank "),c.Ub())}function y(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," Enter a valid email "),c.Ub())}function S(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," Password cannot be blank "),c.Ub())}function w(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," Password should be minimum 6 characters "),c.Ub())}function E(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," contact Field cannot be blank "),c.Ub())}function F(t,e){1&t&&(c.Vb(0,"div",19),c.Jc(1," contact No. should be 10 digits long. "),c.Ub())}function J(t,e){if(1&t&&(c.Vb(0,"button",20),c.Rb(1,"i",21),c.Jc(2,"Register "),c.Ub()),2&t){const t=c.jc();c.pc("disabled",!t.adminForm.valid)}}function N(t,e){1&t&&(c.Vb(0,"div",22),c.Vb(1,"div",23),c.Vb(2,"span",24),c.Jc(3,"Loading..."),c.Ub(),c.Ub(),c.Ub())}let R=(()=>{class t{constructor(t,e,o){this.router=t,this.authService=e,this.builder=o,this.showLoader=!1}ngOnInit(){this.initAdminForm()}initAdminForm(){this.adminForm=new n.g({email:new n.e("a@a.com",[n.t.required,n.t.email]),password:new n.e("asdf234",[n.t.required,n.t.minLength(6)]),username:new n.e("animal32",[n.t.required]),contact:new n.e("5646546546546",[n.t.required,n.t.minLength(10)])})}onSubmit(){console.log(this.adminForm.value),this.authService.registerAdmin(this.adminForm.value).subscribe(t=>console.log(t),t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.b),c.Qb(b.a),c.Qb(n.d))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-admin-register"]],decls:36,vars:10,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-user-cog","mr-2"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","Password"],["type","password","id","Password","formControlName","password",1,"form-control"],["for","contact"],["type","contact","id","contact","formControlName","contact",1,"form-control"],["class","btn btn-primary btn-block","type","submit",3,"disabled",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"form-text","text-danger"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"fa","fa-save","mr-2"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,e){1&t&&(c.Vb(0,"div"),c.Vb(1,"div",0),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"div",3),c.Vb(5,"h4"),c.Rb(6,"i",4),c.Jc(7," Admin Registration"),c.Ub(),c.Ub(),c.Vb(8,"div",5),c.Vb(9,"form",6),c.fc("ngSubmit",function(){return e.onSubmit()}),c.Vb(10,"div",7),c.Vb(11,"label",8),c.Jc(12,"username*"),c.Ub(),c.Rb(13,"input",9),c.Hc(14,U,2,0,"div",10),c.Ub(),c.Vb(15,"div",7),c.Vb(16,"label",11),c.Jc(17,"Email*"),c.Ub(),c.Rb(18,"input",12),c.Hc(19,V,2,0,"div",10),c.Hc(20,y,2,0,"div",10),c.Ub(),c.Vb(21,"div",7),c.Vb(22,"label",13),c.Jc(23,"Password*"),c.Ub(),c.Rb(24,"input",14),c.Hc(25,S,2,0,"div",10),c.Hc(26,w,2,0,"div",10),c.Ub(),c.Vb(27,"div",7),c.Vb(28,"label",15),c.Jc(29,"contact No.*"),c.Ub(),c.Rb(30,"input",16),c.Hc(31,E,2,0,"div",10),c.Hc(32,F,2,0,"div",10),c.Ub(),c.Vb(33,"div",7),c.Hc(34,J,3,1,"button",17),c.Hc(35,N,4,0,"div",18),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(9),c.pc("formGroup",e.adminForm),c.Eb(5),c.pc("ngIf",e.adminForm.get("username").hasError("required")&&e.adminForm.get("username").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("email").hasError("required")&&e.adminForm.get("email").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("email").hasError("email")&&e.adminForm.get("email").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("password").hasError("required")&&e.adminForm.get("password").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("password").hasError("minlength")&&e.adminForm.get("password").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("contact").hasError("required")&&e.adminForm.get("contact").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("contact").hasError("minlength")&&e.adminForm.get("contact").touched),c.Eb(2),c.pc("ngIf",!e.showLoader),c.Eb(1),c.pc("ngIf",e.showLoader))},directives:[n.v,n.n,n.h,n.b,n.m,n.f,r.m],styles:[""]}),t})();var k=o("jdmI"),C=o("AN5P"),I=o("XNiG"),x=o("+Dye"),O=o("tk/3");let q=(()=>{class t{constructor(t,e){this.alertify=t,this.http=e,this.roomList=[],this.roomSub=new I.a}getAllRooms(){this.http.get(x.a.rooms).subscribe(t=>{this.roomList=t.data,this.sendAllRooms()},t=>{this.alertify.error(t),this.roomList=[],this.sendAllRooms()})}registerRoom(t){return this.http.post(""+x.a.rooms,t)}getAllRoomsByBlock(t){this.http.get(`${x.a.rooms}/blocksearch/${t}`).subscribe(t=>{this.roomList=t.data,this.sendAllRooms()},t=>{this.alertify.error(t),this.roomList=[],this.sendAllRooms()})}getAvailableRooms(){return this.http.get(x.a.availableRooms)}sendAllRooms(){this.roomSub.next(this.roomList)}getRoomByName(t){return this.http.get(`${x.a.rooms}/namesearch/${t}`)}updateRoom(t,e){return this.http.put(`${x.a.rooms}/${t}`,e)}deleteRoom(t){return this.http.delete(`${x.a.rooms}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(d.a),c.cc(O.b))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=o("oOf3"),M=o("UBKl");function H(t,e){1&t&&(c.Vb(0,"td",2),c.Rb(1,"div",3),c.Ub())}function A(t,e){if(1&t&&(c.Vb(0,"tr"),c.Hc(1,H,2,0,"td",1),c.Ub()),2&t){const t=c.jc();c.Eb(1),c.pc("ngForOf",t.colArr)}}let P=(()=>{class t{constructor(){this.rows="3",this.cols="4"}ngOnInit(){this.rowArr=new Array(parseInt(this.rows)),this.colArr=new Array(parseInt(this.cols))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-table-skeleton-loader"]],inputs:{rows:"rows",cols:"cols"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["class","loading",4,"ngFor","ngForOf"],[1,"loading"],[1,"bar"]],template:function(t,e){1&t&&(c.Hc(0,A,2,1,"tr",0),c.Jc(1,"\n\\")),2&t&&c.pc("ngForOf",e.rowArr)},directives:[r.l],styles:['@keyframes loading{40%{background-position:100% 0}to{background-position:100% 0}}*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif;background:#fefefe}.headline[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}td[_ngcontent-%COMP%]{min-width:100px}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fefefe}td[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.loading[_ngcontent-%COMP%]{position:relative}.loading[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#e7e7e7;height:1.3rem;border-radius:3px;width:60%}.loading[_ngcontent-%COMP%]:after{position:absolute;transform:translateY(-50%);top:50%;left:0;content:"";display:block;width:100%;height:24px;background-image:linear-gradient(100deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5) 60%,hsla(0,0%,100%,0) 80%);background-size:200px 24px;background-position:-200px 0;animation:loading 2s infinite}[_nghost-%COMP%]{display:contents}']}),t})();function B(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"td"),c.Jc(2),c.Ub(),c.Vb(3,"td"),c.Jc(4),c.Ub(),c.Vb(5,"td"),c.Jc(6),c.Ub(),c.Vb(7,"td"),c.Jc(8),c.Ub(),c.Vb(9,"td"),c.Jc(10),c.Ub(),c.Vb(11,"td"),c.Jc(12),c.Ub(),c.Vb(13,"td"),c.Jc(14),c.Ub(),c.Vb(15,"th",9),c.Vb(16,"edit-icon",10),c.fc("click",function(){c.zc(t);const o=e.$implicit;return c.jc().editRoom(o.roomName)}),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Eb(2),c.Kc(t.roomName),c.Eb(2),c.Kc(t.block),c.Eb(2),c.Mc("",null==t.students[0]?null:t.students[0]._id," ",null==t.students[1]?null:t.students[1]._id,""),c.Eb(2),c.Kc(t.assets.table),c.Eb(2),c.Kc(t.assets.chair),c.Eb(2),c.Kc(t.assets.bed),c.Eb(2),c.Kc(t.assets.wardrobe)}}function _(t,e){1&t&&c.Rb(0,"app-table-skeleton-loader",11)}const K=function(t,e){return{id:"room_pagination",itemsPerPage:7,currentPage:t,totalItems:e}};let j=(()=>{class t{constructor(t,e,o,r){this.roomService=t,this.alertify=e,this.router=o,this.route=r,this.showSkeleton=!0,this.roomList=[],this.page=1,this.totalRooms=0}ngOnInit(){this.roomSub=this.roomService.getAvailableRooms().subscribe(t=>{this.roomList=t.data,this.showSkeleton=!1,console.log(t.data)},t=>this.alertify.error(t))}fetchRooms(){this.roomList=[],this.showSkeleton=!0,this.roomService.getAllRoomsByBlock(this.blockName)}editRoom(t){this.router.navigate(["/admin/editRoom",t])}ngOnDestroy(){this.roomSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(q),c.Qb(d.a),c.Qb(s.b),c.Qb(s.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-available-rooms"]],decls:30,vars:8,consts:[[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-home","mr-2"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["rows","5","cols","8",4,"ngIf"],[1,"text-center"],["id","room_pagination",3,"pageChange"],["scope","row"],[3,"click"],["rows","5","cols","8"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"h4"),c.Rb(3,"i",2),c.Jc(4," Available Room List"),c.Ub(),c.Ub(),c.Vb(5,"table",3),c.Vb(6,"thead"),c.Vb(7,"tr"),c.Vb(8,"th",4),c.Jc(9,"RoomName"),c.Ub(),c.Vb(10,"th",4),c.Jc(11,"Block"),c.Ub(),c.Vb(12,"th",4),c.Jc(13,"Students"),c.Ub(),c.Vb(14,"th",4),c.Jc(15,"Table"),c.Ub(),c.Vb(16,"th",4),c.Jc(17,"Chair"),c.Ub(),c.Vb(18,"th",4),c.Jc(19,"Bed "),c.Ub(),c.Vb(20,"th",4),c.Jc(21,"Wardrobe"),c.Ub(),c.Vb(22,"th",4),c.Jc(23,"Actions"),c.Ub(),c.Ub(),c.Ub(),c.Vb(24,"tbody"),c.Hc(25,B,17,8,"tr",5),c.kc(26,"paginate"),c.Hc(27,_,1,0,"app-table-skeleton-loader",6),c.Ub(),c.Ub(),c.Vb(28,"div",7),c.Vb(29,"pagination-controls",8),c.fc("pageChange",function(t){return e.page=t}),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(25),c.pc("ngForOf",c.mc(26,2,e.roomList,c.uc(5,K,e.page,e.totalRooms))),c.Eb(2),c.pc("ngIf",e.showSkeleton))},directives:[r.l,r.m,L.c,M.a,P],pipes:[L.b],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})(),Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["add-icon"]],decls:7,vars:0,consts:[["version","1.1","height","30px","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 477.867 477.867",0,"xml","space","preserve",2,"enable-background","new 0 0 477.867 477.867","stroke","white"],["d","M392.533,0h-307.2C38.228,0.056,0.056,38.228,0,85.333v307.2c0.056,47.105,38.228,85.277,85.333,85.333h307.2\n\t\t\tc47.105-0.056,85.277-38.228,85.333-85.333v-307.2C477.81,38.228,439.638,0.056,392.533,0z M443.733,392.533\n\t\t\tc0,28.277-22.923,51.2-51.2,51.2h-307.2c-28.277,0-51.2-22.923-51.2-51.2v-307.2c0-28.277,22.923-51.2,51.2-51.2h307.2\n\t\t\tc28.277,0,51.2,22.923,51.2,51.2V392.533z",2,"fill","black"],["d","M324.267,221.867H256V153.6c0-9.426-7.641-17.067-17.067-17.067s-17.067,7.641-17.067,17.067v68.267H153.6\n\t\t\tc-9.426,0-17.067,7.641-17.067,17.067S144.174,256,153.6,256h68.267v68.267c0,9.426,7.641,17.067,17.067,17.067\n\t\t\tS256,333.692,256,324.267V256h68.267c9.426,0,17.067-7.641,17.067-17.067S333.692,221.867,324.267,221.867z",2,"fill","black"]],template:function(t,e){1&t&&(c.ic(),c.Vb(0,"svg",0),c.Vb(1,"g"),c.Vb(2,"g"),c.Rb(3,"path",1),c.Ub(),c.Ub(),c.Vb(4,"g"),c.Vb(5,"g"),c.Rb(6,"path",2),c.Ub(),c.Ub(),c.Ub())},styles:["[_nghost-%COMP%]{\n\t\tcursor:pointer;\n\t\toutline:none;\n\t}"]}),t})();function z(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"td"),c.Jc(2),c.Ub(),c.Vb(3,"td"),c.Jc(4),c.Ub(),c.Vb(5,"td"),c.Jc(6),c.Ub(),c.Vb(7,"td"),c.Jc(8),c.Ub(),c.Vb(9,"td"),c.Jc(10),c.Ub(),c.Vb(11,"td"),c.Jc(12),c.Ub(),c.Vb(13,"td"),c.Jc(14),c.Ub(),c.Vb(15,"th",10),c.Vb(16,"edit-icon",11),c.fc("click",function(){c.zc(t);const o=e.$implicit;return c.jc().editRoom(o.roomName)}),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Eb(2),c.Kc(t.roomName),c.Eb(2),c.Kc(t.block),c.Eb(2),c.Mc("",null==t.students[0]?null:t.students[0]._id," ",null==t.students[1]?null:t.students[1]._id,""),c.Eb(2),c.Kc(t.assets.table),c.Eb(2),c.Kc(t.assets.chair),c.Eb(2),c.Kc(t.assets.bed),c.Eb(2),c.Kc(t.assets.wardrobe)}}function $(t,e){1&t&&c.Rb(0,"app-table-skeleton-loader",12)}const G=function(){return["/admin/roomRegister"]},D=function(t,e){return{id:"room_pagination",itemsPerPage:7,currentPage:t,totalItems:e}};let W=(()=>{class t{constructor(t,e,o,r){this.roomService=t,this.alertify=e,this.router=o,this.route=r,this.showSkeleton=!0,this.roomList=[],this.page=1,this.totalRooms=0,this.route.paramMap.subscribe(t=>{this.blockName=t.get("id"),this.fetchRooms()})}ngOnInit(){this.roomSub=this.roomService.roomSub.subscribe(t=>{this.roomList=t,this.showSkeleton=!1},t=>this.alertify.error(t))}fetchRooms(){this.roomList=[],this.showSkeleton=!0,this.roomService.getAllRoomsByBlock(this.blockName)}editRoom(t){this.router.navigate(["/admin/editRoom",t])}ngOnDestroy(){this.roomSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(q),c.Qb(d.a),c.Qb(s.b),c.Qb(s.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-manage-room"]],decls:31,vars:10,consts:[[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-home","mr-2"],[3,"routerLink"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["rows","5","cols","8",4,"ngIf"],[1,"text-center"],["id","room_pagination",3,"pageChange"],["scope","row"],[3,"click"],["rows","5","cols","8"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"h4"),c.Rb(3,"i",2),c.Jc(4," Rooms List"),c.Ub(),c.Rb(5,"add-icon",3),c.Ub(),c.Vb(6,"table",4),c.Vb(7,"thead"),c.Vb(8,"tr"),c.Vb(9,"th",5),c.Jc(10,"RoomName"),c.Ub(),c.Vb(11,"th",5),c.Jc(12,"Block"),c.Ub(),c.Vb(13,"th",5),c.Jc(14,"Students"),c.Ub(),c.Vb(15,"th",5),c.Jc(16,"Table"),c.Ub(),c.Vb(17,"th",5),c.Jc(18,"Chair"),c.Ub(),c.Vb(19,"th",5),c.Jc(20,"Bed "),c.Ub(),c.Vb(21,"th",5),c.Jc(22,"Wardrobe"),c.Ub(),c.Vb(23,"th",5),c.Jc(24,"Actions"),c.Ub(),c.Ub(),c.Ub(),c.Vb(25,"tbody"),c.Hc(26,z,17,8,"tr",6),c.kc(27,"paginate"),c.Hc(28,$,1,0,"app-table-skeleton-loader",7),c.Ub(),c.Ub(),c.Vb(29,"div",8),c.Vb(30,"pagination-controls",9),c.fc("pageChange",function(t){return e.page=t}),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(5),c.pc("routerLink",c.sc(6,G)),c.Eb(21),c.pc("ngForOf",c.mc(27,3,e.roomList,c.uc(7,D,e.page,e.totalRooms))),c.Eb(2),c.pc("ngIf",e.showSkeleton))},directives:[Q,s.c,r.l,r.m,L.c,M.a,P],pipes:[L.b],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var T=function(t){return t.A="A",t.B="B",t.C="C",t.D="D",t.E="E",t}({});function X(t,e){1&t&&(c.Vb(0,"div",29),c.Jc(1," Room Name cannot be blank "),c.Ub())}function Y(t,e){if(1&t&&(c.Vb(0,"option",30),c.Jc(1),c.Ub()),2&t){const t=e.$implicit;c.pc("value",t),c.Eb(1),c.Kc(t)}}function Z(t,e){if(1&t&&(c.Vb(0,"div"),c.Vb(1,"div",8),c.Rb(2,"input",31),c.Ub(),c.Ub()),2&t){const t=e.index;c.Eb(2),c.pc("formControlName",t)}}function tt(t,e){if(1&t){const t=c.Wb();c.Vb(0,"form",7),c.fc("ngSubmit",function(){return c.zc(t),c.jc().onSubmit()}),c.Vb(1,"div",8),c.Vb(2,"label",9),c.Jc(3,"Room Name*"),c.Ub(),c.Rb(4,"input",10),c.Hc(5,X,2,0,"div",11),c.Ub(),c.Vb(6,"div",8),c.Vb(7,"label",12),c.Jc(8,"Block*"),c.Ub(),c.Vb(9,"select",13),c.Hc(10,Y,2,2,"option",14),c.Ub(),c.Ub(),c.Vb(11,"div",15),c.Vb(12,"div",8),c.Vb(13,"label",16),c.Jc(14,"Tables*"),c.Ub(),c.Rb(15,"input",17),c.Ub(),c.Vb(16,"div",8),c.Vb(17,"label",18),c.Jc(18,"Chairs*"),c.Ub(),c.Rb(19,"input",19),c.Ub(),c.Vb(20,"div",8),c.Vb(21,"label",20),c.Jc(22,"Tables*"),c.Ub(),c.Rb(23,"input",21),c.Ub(),c.Vb(24,"div",8),c.Vb(25,"label",22),c.Jc(26,"Beds*"),c.Ub(),c.Rb(27,"input",23),c.Ub(),c.Vb(28,"div",8),c.Vb(29,"label",20),c.Jc(30,"Wardrobe*"),c.Ub(),c.Rb(31,"input",21),c.Ub(),c.Ub(),c.Vb(32,"div",24),c.Vb(33,"div",8),c.Vb(34,"label",25),c.Jc(35,"Students"),c.Ub(),c.Hc(36,Z,3,1,"div",26),c.Ub(),c.Ub(),c.Vb(37,"div",8),c.Vb(38,"button",27),c.Vb(39,"i",28),c.Jc(40,"Submit"),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=c.jc();c.pc("formGroup",t.roomForm),c.Eb(5),c.pc("ngIf",t.roomForm.get("roomName").hasError("required")&&t.roomForm.get("roomName").touched),c.Eb(5),c.pc("ngForOf",t.keys),c.Eb(26),c.pc("ngForOf",t.students.controls)}}let et=(()=>{class t{constructor(t,e,o,r,n,i){this.router=t,this.authService=e,this.builder=o,this.route=r,this.roomService=n,this.alertify=i,this.showLoader=!1,this.componentName="Room Registration",this.blocks=T,this.isEditform=!1,this.keys=Object.keys(this.blocks).filter(String),console.log(this.keys)}ngOnInit(){const t=this.route.snapshot.paramMap.get("roomName");t?(console.log(t),this.roomSub=this.roomService.getRoomByName(t).subscribe(t=>{this.room=t.data,console.log(this.room),this.initializeForm()},t=>{this.alertify.error(t),console.log("lkdasjflkdsfj"),this.initroomForm()})):this.initroomForm()}initializeForm(){this.room?(this.componentName="Edit Room ",this.editRoomForm(this.room)):(this.componentName="Room Registration",this.isEditform=!1,this.initroomForm())}initroomForm(){this.roomForm=this.builder.group({roomName:[""],block:T.A,students:this.builder.array([new n.e(""),new n.e("")]),assets:this.builder.group({table:[],chair:[],wardrobe:[],bed:[]})})}editRoomForm(t){var e,o;console.log(t);const{roomName:r,block:i,students:s,assets:a}=t;console.log(t),this.roomForm=this.builder.group({roomName:[r],block:i,students:this.builder.array([new n.e(null===(e=s[0])||void 0===e?void 0:e.rollNo),new n.e(null===(o=s[1])||void 0===o?void 0:o.rollNo)]),assets:this.builder.group({table:[a.table],chair:[a.chair],wardrobe:[a.wardrobe],bed:[a.bed]})})}get table(){return this.roomForm.get("assets.room")}get chair(){return this.roomForm.get("assets.chi")}get wordrobe(){return this.roomForm.get("assets.wordrobe")}get bed(){return this.roomForm.get("assets.bed")}get room1(){return this.roomForm.get("room.room1")}get room2(){return this.roomForm.get("room.room2")}get students(){return this.roomForm.get("students")}onSubmit(){console.log(this.roomForm.value),this.room?this.roomService.updateRoom(this.room._id,this.roomForm.value).subscribe(t=>{this.alertify.success("Room Updated Successfully")},t=>this.alertify.error(t)):this.roomService.registerRoom(this.roomForm.value).subscribe(t=>this.alertify.success("Room Created Successfully"),t=>console.error(t))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.b),c.Qb(b.a),c.Qb(n.d),c.Qb(s.a),c.Qb(q),c.Qb(d.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-room-register"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-user-cog","mr-2"],[1,"card-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","roomName"],["type","text","id","roomName","formControlName","roomName",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["for","block"],["type","block","value","A","id","block","formControlName","block",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","assets"],["for","tables"],["type","number","id","tables","formControlName","table",1,"form-control"],["for","chair"],["type","number","id","chair","formControlName","chair",1,"form-control"],["for","wardrobe"],["type","number","id","wardrobe","formControlName","wardrobe",1,"form-control"],["for","bed"],["type","number","id","bed","formControlName","bed",1,"form-control"],["formArrayName","students"],["for",""],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"mr-2"],[1,"form-text","text-danger"],[3,"value"],["type","text","placeholder","RollNo of Student","id","student1",1,"form-control",3,"formControlName"]],template:function(t,e){1&t&&(c.Vb(0,"div"),c.Vb(1,"div",0),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"div",3),c.Vb(5,"h4"),c.Rb(6,"i",4),c.Jc(7),c.Ub(),c.Ub(),c.Vb(8,"div",5),c.Hc(9,tt,41,4,"form",6),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(7),c.Lc(" ",e.componentName,""),c.Eb(2),c.pc("ngIf",e.roomForm))},directives:[r.m,n.v,n.n,n.h,n.b,n.m,n.f,n.s,r.l,n.i,n.q,n.c,n.p,n.u],styles:["form[_ngcontent-%COMP%]{padding:1rem 3rem;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:5rem}form[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:1.5rem;width:150px}div[formgroupname=assets][_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;width:100%;justify-content:start;grid-column-gap:5px}"]}),t})();var ot=o("LRne");let rt=(()=>{class t{constructor(t,e){this.http=t,this.alertify=e,this.staffList=[],this.StaffSub=new I.a}getStaffList(){this.http.get(x.a.allStaffs).subscribe(t=>{this.StaffSub.next(t.data),console.log(t.data)},t=>{this.alertify.error(t),this.StaffSub.next([])})}insertStaff(t){return this.staffList.push(t)}getStaffById(t){return Object(ot.a)(this.staffList.filter(e=>e.id==t)[0])}editStaff(t,e){return this.http.put(x.a.updateStaff+"/"+t,e)}deleteStaff(t){return this.staffList.filter(t)}registerStaff(t){return this.http.post(x.a.registerStaff,t)}}return t.\u0275fac=function(e){return new(e||t)(c.cc(O.b),c.cc(d.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nt(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"th",8),c.Jc(2),c.Ub(),c.Vb(3,"td"),c.Jc(4),c.Ub(),c.Vb(5,"td"),c.Jc(6),c.Ub(),c.Vb(7,"td"),c.Jc(8),c.Ub(),c.Vb(9,"td"),c.Jc(10),c.Ub(),c.Vb(11,"td"),c.Jc(12),c.Ub(),c.Vb(13,"td"),c.Jc(14),c.Ub(),c.Vb(15,"th",8),c.Vb(16,"edit-icon",9),c.fc("click",function(){c.zc(t);const o=e.$implicit;return c.jc().editStaff(o.username)}),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit,o=e.index;c.Eb(2),c.Kc(o+1),c.Eb(2),c.Kc(t.fullName),c.Eb(2),c.Kc(t.username),c.Eb(2),c.Kc(t.role),c.Eb(2),c.Kc(t.contact),c.Eb(2),c.Kc(t.email),c.Eb(2),c.Kc(t.address)}}function it(t,e){1&t&&c.Rb(0,"app-table-skeleton-loader",10)}const st=function(){return["/admin/staffRegister"]};let at=(()=>{class t{constructor(t,e,o){this.staffService=t,this.alertify=e,this.router=o,this.staffs=[],this.showSkeleton=!0}ngOnInit(){this.staffsSub=this.staffService.StaffSub.subscribe(t=>{this.staffs=t,this.showSkeleton=!1},t=>{console.log(t),this.showSkeleton=!1}),this.staffService.getStaffList()}editStaff(t){this.staffService.getStaffById(t),this.router.navigate(["admin/editStaff",t])}ngOnDestroy(){this.staffsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(rt),c.Qb(d.a),c.Qb(s.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-manage-staff"]],decls:28,vars:4,consts:[[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-user-cog","mr-2"],[3,"routerLink"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["rows","5","cols","8",4,"ngIf"],["scope","row"],[3,"click"],["rows","5","cols","8"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"h4"),c.Rb(3,"i",2),c.Jc(4," Staff List"),c.Ub(),c.Rb(5,"add-icon",3),c.Ub(),c.Vb(6,"table",4),c.Vb(7,"thead"),c.Vb(8,"tr"),c.Vb(9,"th",5),c.Jc(10,"#"),c.Ub(),c.Vb(11,"th",5),c.Jc(12,"Full Name"),c.Ub(),c.Vb(13,"th",5),c.Jc(14,"UserName"),c.Ub(),c.Vb(15,"th",5),c.Jc(16,"Staff Type"),c.Ub(),c.Vb(17,"th",5),c.Jc(18,"contact"),c.Ub(),c.Vb(19,"th",5),c.Jc(20,"Email "),c.Ub(),c.Vb(21,"th",5),c.Jc(22,"Address"),c.Ub(),c.Vb(23,"th",5),c.Jc(24,"Actions"),c.Ub(),c.Ub(),c.Ub(),c.Vb(25,"tbody"),c.Hc(26,nt,17,7,"tr",6),c.Hc(27,it,1,0,"app-table-skeleton-loader",7),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(5),c.pc("routerLink",c.sc(3,st)),c.Eb(21),c.pc("ngForOf",e.staffs),c.Eb(1),c.pc("ngIf",e.showSkeleton))},directives:[Q,s.c,r.l,r.m,M.a,P],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function ct(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," username cannot be blank "),c.Ub())}function bt(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," Full Name is required. "),c.Ub())}function dt(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," Email cannot be blank "),c.Ub())}function lt(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," Enter a valid email "),c.Ub())}function mt(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," Staff Type field is required "),c.Ub())}function ut(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," Address field is required "),c.Ub())}function ft(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," contact Field cannot be blank "),c.Ub())}function ht(t,e){1&t&&(c.Vb(0,"div",26),c.Jc(1," contact No. should be 10 digits long. "),c.Ub())}function pt(t,e){if(1&t&&(c.Vb(0,"button",27),c.Rb(1,"i",28),c.Jc(2),c.Ub()),2&t){const t=c.jc(2);c.pc("disabled",!t.adminForm.valid),c.Eb(2),c.Lc("",t.isEditform?"Submit":"Register"," ")}}function gt(t,e){1&t&&(c.Vb(0,"div",29),c.Vb(1,"div",30),c.Vb(2,"span",31),c.Jc(3,"Loading..."),c.Ub(),c.Ub(),c.Ub())}function vt(t,e){if(1&t){const t=c.Wb();c.Vb(0,"form",7),c.fc("ngSubmit",function(){return c.zc(t),c.jc().onSubmit()}),c.Vb(1,"div",8),c.Vb(2,"label",9),c.Jc(3,"username*"),c.Ub(),c.Rb(4,"input",10),c.Hc(5,ct,2,0,"div",11),c.Ub(),c.Vb(6,"div",8),c.Vb(7,"label",12),c.Jc(8,"Full Name*"),c.Ub(),c.Rb(9,"input",13),c.Hc(10,bt,2,0,"div",11),c.Ub(),c.Vb(11,"div",8),c.Vb(12,"label",14),c.Jc(13,"Email*"),c.Ub(),c.Rb(14,"input",15),c.Hc(15,dt,2,0,"div",11),c.Hc(16,lt,2,0,"div",11),c.Ub(),c.Vb(17,"div",8),c.Vb(18,"label",16),c.Jc(19,"Staff Type*"),c.Ub(),c.Vb(20,"select",17),c.Vb(21,"option",18),c.Jc(22,"Hostel Staff"),c.Ub(),c.Vb(23,"option",19),c.Jc(24,"Mess Staff"),c.Ub(),c.Ub(),c.Hc(25,mt,2,0,"div",11),c.Ub(),c.Vb(26,"div",8),c.Vb(27,"label",20),c.Jc(28,"Address*"),c.Ub(),c.Rb(29,"input",21),c.Hc(30,ut,2,0,"div",11),c.Ub(),c.Vb(31,"div",8),c.Vb(32,"label",22),c.Jc(33,"contact No.*"),c.Ub(),c.Rb(34,"input",23),c.Hc(35,ft,2,0,"div",11),c.Hc(36,ht,2,0,"div",11),c.Ub(),c.Vb(37,"div",8),c.Hc(38,pt,3,2,"button",24),c.Hc(39,gt,4,0,"div",25),c.Ub(),c.Ub()}if(2&t){const t=c.jc();c.pc("formGroup",t.adminForm),c.Eb(5),c.pc("ngIf",t.adminForm.get("username").hasError("required")&&t.adminForm.get("username").touched),c.Eb(5),c.pc("ngIf",t.adminForm.get("fullName").hasError("required")&&t.adminForm.get("fullName").touched),c.Eb(5),c.pc("ngIf",t.adminForm.get("email").hasError("required")&&t.adminForm.get("email").touched),c.Eb(1),c.pc("ngIf",t.adminForm.get("email").hasError("email")&&t.adminForm.get("email").touched),c.Eb(9),c.pc("ngIf",t.adminForm.get("role").hasError("required")&&t.adminForm.get("role").touched),c.Eb(5),c.pc("ngIf",t.adminForm.get("address").hasError("required")&&t.adminForm.get("address").touched),c.Eb(5),c.pc("ngIf",t.adminForm.get("contact").hasError("required")&&t.adminForm.get("contact").touched),c.Eb(1),c.pc("ngIf",t.adminForm.get("contact").hasError("minlength")&&t.adminForm.get("contact").touched),c.Eb(2),c.pc("ngIf",!t.showLoader),c.Eb(1),c.pc("ngIf",t.showLoader)}}let Ut=(()=>{class t{constructor(t,e,o,r,n,i){this.router=t,this.authService=e,this.staffService=o,this.route=r,this.alertify=n,this.builder=i,this.showLoader=!1,this.componentName="Staff Registration",this.isEditform=!1}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t?this.staffSub=this.authService.getLoginDetailUser(t).subscribe(t=>{this.staff=t.data,this.isEditform=!0,this.initializeForm()},t=>{this.alertify.error(t),this.initStaffForm()}):this.initStaffForm()}initializeForm(){this.staff?this.componentName="Edit Staff ":(this.componentName="Staff Registration",this.isEditform=!1),this.isEditform?this.editStaffForm(this.staff):this.initStaffForm()}initStaffForm(){this.adminForm=new n.g({email:new n.e("a@a.com",[n.t.required,n.t.email]),username:new n.e("animal32",[n.t.required]),role:new n.e("hostel",[n.t.required]),fullName:new n.e("New User",[n.t.required]),address:new n.e("Chitwan",[n.t.required]),contact:new n.e("5646546546546",[n.t.required,n.t.minLength(10)])})}editStaffForm(t){let{email:e,username:o,role:r,fullName:i,address:s,contact:a}=t;this.adminForm=new n.g({email:new n.e(e,[n.t.required,n.t.email]),username:new n.e(o,[n.t.required]),role:new n.e(r,[n.t.required]),fullName:new n.e(i,[n.t.required]),address:new n.e(s,[n.t.required]),contact:new n.e(a,[n.t.required,n.t.minLength(10)])})}onSubmit(){console.log(this.adminForm.value),this.isEditform?this.staffService.editStaff(this.staff._id,this.staff).subscribe(t=>{this.alertify.success("Staff Updated Successfully!"),this.router.navigateByUrl("/admin/manageStaffs")},t=>this.alertify.error(t)):this.staffService.registerStaff(this.adminForm.value).subscribe(t=>{this.alertify.success("Staff Created Successfully!"),this.router.navigateByUrl("/admin/manageStaffs")},t=>this.alertify.error(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.b),c.Qb(b.a),c.Qb(rt),c.Qb(s.a),c.Qb(d.a),c.Qb(n.d))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-staff-register"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-user-cog","mr-2"],[1,"card-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["for","fullName"],["type","text","id","fullName","formControlName","fullName",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","batch"],["type","number","id","role","formControlName","role",1,"form-control"],["value","hostelstaff"],["value","messstaff"],["for","address"],["type","text","id","address","formControlName","address",1,"form-control"],["for","contact"],["type","contact","id","contact","formControlName","contact",1,"form-control"],["class","btn btn-primary btn-block","type","submit",3,"disabled",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"form-text","text-danger"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"fa","fa-save","mr-2"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,e){1&t&&(c.Vb(0,"div"),c.Vb(1,"div",0),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"div",3),c.Vb(5,"h4"),c.Rb(6,"i",4),c.Jc(7),c.Ub(),c.Ub(),c.Vb(8,"div",5),c.Hc(9,vt,40,11,"form",6),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(7),c.Lc(" ",e.componentName,""),c.Eb(2),c.pc("ngIf",e.adminForm))},directives:[r.m,n.v,n.n,n.h,n.b,n.m,n.f,n.s,n.p,n.u],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var Vt=o("JmRu");function yt(t,e){if(1&t&&(c.Vb(0,"option",16),c.Jc(1),c.Ub()),2&t){const t=e.$implicit;c.pc("ngValue",t.id),c.Eb(1),c.Kc(t.name)}}function St(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"td"),c.Vb(3,"td"),c.Vb(4,"input",4),c.fc("change",function(e){return c.zc(t),c.jc().searchByUsername(e)}),c.Ub(),c.Ub(),c.Vb(5,"td"),c.Vb(6,"input",4),c.fc("change",function(e){return c.zc(t),c.jc().searchByBatch(e)}),c.Ub(),c.Ub(),c.Vb(7,"td"),c.Vb(8,"select",14),c.fc("ngModelChange",function(e){return c.zc(t),c.jc().selectedFaculty=e})("change",function(){return c.zc(t),c.jc().searchByFaculty()}),c.Hc(9,yt,2,2,"option",15),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=c.jc();c.Eb(8),c.pc("ngModel",t.selectedFaculty),c.Eb(1),c.pc("ngForOf",t.faculties)}}function wt(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"td"),c.Jc(2),c.Ub(),c.Vb(3,"td"),c.Jc(4),c.Ub(),c.Vb(5,"td"),c.Jc(6),c.Ub(),c.Vb(7,"td"),c.Jc(8),c.Ub(),c.Vb(9,"td"),c.Jc(10),c.Ub(),c.Vb(11,"td"),c.Jc(12),c.Ub(),c.Vb(13,"td"),c.Jc(14),c.Ub(),c.Vb(15,"th",17),c.Vb(16,"edit-icon",18),c.fc("click",function(){c.zc(t);const o=e.$implicit;return c.jc().editStudent(o._id)}),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Eb(2),c.Kc(t.fullName),c.Eb(2),c.Kc(t.rollNo),c.Eb(2),c.Kc(t.batch),c.Eb(2),c.Kc(t.faculty),c.Eb(2),c.Kc(t.contact),c.Eb(2),c.Kc(t.email),c.Eb(2),c.Kc(t.address)}}function Et(t,e){1&t&&c.Rb(0,"app-table-skeleton-loader",19)}function Ft(t,e){if(1&t){const t=c.Wb();c.Vb(0,"pagination-controls",20),c.fc("pageChange",function(e){return c.zc(t),c.jc().page=e}),c.Ub()}}const Jt=function(){return["/admin/studentRegister"]},Nt=function(t,e){return{id:"student_pagination",itemsPerPage:8,currentPage:t,totalItems:e}};let Rt=(()=>{class t{constructor(t,e,o,r){this.studentService=t,this.alertify=e,this.router=o,this.route=r,this.totalStudents=0,this.page=1,this.startSearch=!1,this.faculties=this.studentService.faculites,this.selectedFaculty="BCE",this.showSkeleton=!0,this.route.paramMap.subscribe(t=>{this.faculty=t.get("id"),this.fetchStduents()})}ngOnInit(){this.studentsSub=this.studentService.studentSub.subscribe(t=>{console.log("data cane",t),this.students=t,this.totalStudents=this.students.length,this.showSkeleton=!1})}fetchStduents(){this.students=[],this.showSkeleton=!0,this.studentService.getStudentByFaculty(this.faculty)}searchByUsername(t){let e=t.target.value;""!=e.trim()?(console.log(e),this.studentService.getStudentByUsername(e).subscribe(t=>this.students=[t],t=>console.log(t))):this.studentService.getStudentsList()}searchByBatch(t){var e=t.target.value;""!=e.trim()?(console.log(e),this.studentService.getStudentByBatch(e).subscribe(t=>this.students=t.data)):this.studentService.getStudentsList()}searchByFaculty(){console.log(this.selectedFaculty),this.studentService.getStudentByFaculty(this.selectedFaculty)}toggleSearch(){this.startSearch?(this.startSearch=!1,this.studentService.getStudentsList()):this.startSearch=!0}editStudent(t){this.router.navigate(["admin/editStudent",t])}ngOnDestroy(){this.studentsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(Vt.a),c.Qb(d.a),c.Qb(s.b),c.Qb(s.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-manage-user"]],decls:35,vars:12,consts:[[1,"card"],[1,"card-header","text-white"],[1,"fas","fa-user-cog","mr-2"],[1,"input"],["placeholder","Search",1,"form-control",3,"change"],[1,"card-header-controls"],[3,"routerLink"],[1,"table"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["rows","5","cols","8",4,"ngIf"],[1,"controls","text-center"],["id","student_pagination",3,"pageChange",4,"ngIf"],["type","number",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["scope","row"],[3,"click"],["rows","5","cols","8"],["id","student_pagination",3,"pageChange"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"h4"),c.Rb(3,"i",2),c.Jc(4," Student List"),c.Ub(),c.Vb(5,"div",3),c.Vb(6,"input",4),c.fc("change",function(t){return e.searchByUsername(t)}),c.Ub(),c.Ub(),c.Vb(7,"div",5),c.Rb(8,"add-icon",6),c.Ub(),c.Ub(),c.Vb(9,"table",7),c.Vb(10,"thead"),c.Vb(11,"tr"),c.Vb(12,"th",8),c.Jc(13,"Full Name"),c.Ub(),c.Vb(14,"th",8),c.Jc(15,"Roll No"),c.Ub(),c.Vb(16,"th",8),c.Jc(17,"Batch"),c.Ub(),c.Vb(18,"th",8),c.Jc(19,"Faculty"),c.Ub(),c.Vb(20,"th",8),c.Jc(21,"Contact No."),c.Ub(),c.Vb(22,"th",8),c.Jc(23,"Email "),c.Ub(),c.Vb(24,"th",8),c.Jc(25,"Address"),c.Ub(),c.Vb(26,"th",8),c.Jc(27,"Actions"),c.Ub(),c.Ub(),c.Ub(),c.Vb(28,"tbody"),c.Hc(29,St,10,2,"tr",9),c.Hc(30,wt,17,7,"tr",10),c.kc(31,"paginate"),c.Hc(32,Et,1,0,"app-table-skeleton-loader",11),c.Ub(),c.Ub(),c.Vb(33,"div",12),c.Hc(34,Ft,1,0,"pagination-controls",13),c.Ub(),c.Ub()),2&t&&(c.Eb(8),c.pc("routerLink",c.sc(8,Jt)),c.Eb(21),c.pc("ngIf",e.startSearch),c.Eb(1),c.pc("ngForOf",c.mc(31,5,e.students,c.uc(9,Nt,e.page,e.totalStudents))),c.Eb(2),c.pc("ngIf",e.showSkeleton),c.Eb(2),c.pc("ngIf",e.students))},directives:[Q,s.c,r.m,r.l,n.s,n.m,n.o,n.p,n.u,M.a,P,L.c],pipes:[L.b],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#fff}.card[_ngcontent-%COMP%]{min-height:500px}table[_ngcontent-%COMP%]{padding:5px}.controls[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]}),t})();var kt=function(t){return t.ElectronicsAndCommunication="BEX",t.ComputerEngineering="BCT",t.CivilEngineering="BCE",t.MechanicalEngineering="BME",t.GeomaticsEngineering="BGE",t.AutomobileEngineering="BAE",t.ElectricalEngineering="BEE",t}({});class Ct{constructor(){this.username="",this.contact="",this.email="",this.password="",this.dob="",this.faculty=kt.ElectronicsAndCommunication,this.fullName="",this.address="",this.batch="",this.roomNo="",this.imageUrl=""}}function It(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," rollNo cannot be blank "),c.Ub())}function xt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Full Name is required. "),c.Ub())}function Ot(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Email cannot be blank "),c.Ub())}function qt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Enter a valid email "),c.Ub())}function Lt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Batch field is required "),c.Ub())}function Mt(t,e){if(1&t&&(c.Vb(0,"option",34),c.Jc(1),c.Ub()),2&t){const t=e.$implicit;c.pc("value",t.id),c.Eb(1),c.Kc(t.name)}}function Ht(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Batch field is required "),c.Ub())}function At(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Address field is required "),c.Ub())}function Pt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Date of Birth field is required "),c.Ub())}function Bt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," contact Field cannot be blank "),c.Ub())}function _t(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," contact No. should be 10 digits long. "),c.Ub())}function Kt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Parent's Name cannot be empty. "),c.Ub())}function jt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," Parent's Contact is required. "),c.Ub())}function Qt(t,e){1&t&&(c.Vb(0,"div",33),c.Jc(1," contact No. should be 10 digits long. "),c.Ub())}function zt(t,e){if(1&t&&(c.Vb(0,"button",35),c.Rb(1,"i",36),c.Jc(2),c.Ub()),2&t){const t=c.jc();c.pc("disabled",!t.adminForm.valid),c.Eb(2),c.Lc("",t.isEditform?"Submit":"Register"," ")}}function $t(t,e){1&t&&(c.Vb(0,"div",37),c.Vb(1,"div",38),c.Vb(2,"span",39),c.Jc(3,"Loading..."),c.Ub(),c.Ub(),c.Ub())}function Gt(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",40),c.fc("click",function(){return c.zc(t),c.jc().deleteStudent()}),c.Rb(1,"i",36),c.Jc(2,"Delete "),c.Ub()}}let Dt=(()=>{class t{constructor(t,e,o,r,n,i){this.router=t,this.authService=e,this.studentService=o,this.route=r,this.alertify=n,this.builder=i,this.showLoader=!1,this.faculties=this.studentService.faculites,this.isEditform=!1,this.student=new Ct,this.componentName="Student Registration",this.id=this.route.snapshot.paramMap.get("username"),console.log(this.id)}ngOnInit(){this.id?(this.studentSub=this.studentService.getStudentById(this.id).subscribe(t=>{console.log(t),this.student=t,this.selectedFaculty=this.student.faculty},t=>console.log(t)),this.isEditform=!0,this.componentName="Edit Student",this.editStudentForm()):(this.initStudentForm(),this.selectedFaculty=kt.ElectronicsAndCommunication)}initStudentForm(){this.adminForm=new n.g({email:new n.e("a@a.com",[n.t.required,n.t.email]),rollNo:new n.e("073BEX473",[n.t.required]),faculty:new n.e("bex",[n.t.required]),batch:new n.e("073",[n.t.required]),fullName:new n.e("New User",[n.t.required]),address:new n.e("Chitwan",[n.t.required]),dob:new n.e("2054-3-12",[n.t.required]),contact:new n.e("2323232323232222",[n.t.required,n.t.minLength(10)]),parentsName:new n.e("",[n.t.required]),parentsContact:new n.e("",[n.t.required,n.t.minLength(10)])})}editStudentForm(){console.log("sdaf"),this.adminForm=new n.g({email:new n.e(this.student.email,[n.t.required,n.t.email]),rollNo:new n.e(this.student.rollNo,[n.t.required]),faculty:new n.e(this.student.faculty,[n.t.required]),batch:new n.e(this.student.batch,[n.t.required]),fullName:new n.e(this.student.fullName,[n.t.required]),address:new n.e(this.student.address,[n.t.required]),dob:new n.e(this.student.dob,[n.t.required]),contact:new n.e(this.student.contact,[n.t.required,n.t.minLength(10)]),parentsName:new n.e(this.student.parentsName,[n.t.required]),parentsContact:new n.e(this.student.parentsContact,[n.t.required,n.t.minLength(10)])})}deleteStudent(){this.studentService.deleteStudent(this.student._id).subscribe(t=>{console.log(t),history.back(),this.alertify.success("Student Deleted Successfullly")},t=>this.alertify.error(t))}onSubmit(){if(console.log(this.adminForm),this.isEditform)return console.log(this.adminForm.value),void this.studentService.editStudent(this.student._id,this.adminForm.value).subscribe(t=>{this.alertify.success("Student Updated Successfully"),history.back()},t=>this.alertify.error(t));this.studentService.registerStudent(this.adminForm.value).subscribe(t=>{history.back(),this.alertify.success("Student Created Successfuly")},t=>this.alertify.error(t))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.b),c.Qb(b.a),c.Qb(Vt.a),c.Qb(s.a),c.Qb(d.a),c.Qb(n.d))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-student-register"]],decls:69,vars:20,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"fas","fa-user-cog","mr-2"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","rollNo"],["type","text","id","rollNo","formControlName","rollNo",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["for","fullName"],["type","text","id","fullName","formControlName","fullName",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","batch"],["type","number","id","batch","formControlName","batch",1,"form-control"],["for","faculty"],["type","number","value","1","id","faculty","formControlName","faculty",1,"form-control",3,"selectedIndex"],[3,"value",4,"ngFor","ngForOf"],["for","address"],["type","text","id","address","formControlName","address",1,"form-control"],["for","dob"],["id","dob","formControlName","dob","placeholder","yyyy-mm-dd",1,"form-control"],["for","contact"],["type","contact","id","contact","formControlName","contact",1,"form-control"],["for","parentsName"],["type","text","id","parentsName","formControlName","parentsName",1,"form-control"],["for","parentsContact"],["type","number","id","parentsContact","formControlName","parentsContact",1,"form-control"],["class","btn btn-primary btn-block","type","submit",3,"disabled",4,"ngIf"],["class","text-center",4,"ngIf"],["class","btn btn-danger btn-block","type","button",3,"click",4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"fa","fa-save","mr-2"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button",1,"btn","btn-danger","btn-block",3,"click"]],template:function(t,e){1&t&&(c.Vb(0,"div"),c.Vb(1,"div",0),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"div",3),c.Vb(5,"h4"),c.Rb(6,"i",4),c.Jc(7),c.Ub(),c.Ub(),c.Vb(8,"div",5),c.Vb(9,"form",6),c.fc("ngSubmit",function(){return e.onSubmit()}),c.Vb(10,"div",7),c.Vb(11,"label",8),c.Jc(12,"Roll No*"),c.Ub(),c.Rb(13,"input",9),c.Hc(14,It,2,0,"div",10),c.Ub(),c.Vb(15,"div",7),c.Vb(16,"label",11),c.Jc(17,"Full Name*"),c.Ub(),c.Rb(18,"input",12),c.Hc(19,xt,2,0,"div",10),c.Ub(),c.Vb(20,"div",7),c.Vb(21,"label",13),c.Jc(22,"Email*"),c.Ub(),c.Rb(23,"input",14),c.Hc(24,Ot,2,0,"div",10),c.Hc(25,qt,2,0,"div",10),c.Ub(),c.Vb(26,"div",7),c.Vb(27,"label",15),c.Jc(28,"Batch*"),c.Ub(),c.Rb(29,"input",16),c.Hc(30,Lt,2,0,"div",10),c.Ub(),c.Vb(31,"div",7),c.Vb(32,"label",17),c.Jc(33,"Faculty*"),c.Ub(),c.Vb(34,"select",18),c.Hc(35,Mt,2,2,"option",19),c.Ub(),c.Hc(36,Ht,2,0,"div",10),c.Ub(),c.Vb(37,"div",7),c.Vb(38,"label",20),c.Jc(39,"Address*"),c.Ub(),c.Rb(40,"input",21),c.Hc(41,At,2,0,"div",10),c.Ub(),c.Vb(42,"div",7),c.Vb(43,"label",22),c.Jc(44,"Date of Birth*"),c.Ub(),c.Rb(45,"input",23),c.Hc(46,Pt,2,0,"div",10),c.Ub(),c.Vb(47,"div",7),c.Vb(48,"label",24),c.Jc(49,"contact No.*"),c.Ub(),c.Rb(50,"input",25),c.Hc(51,Bt,2,0,"div",10),c.Hc(52,_t,2,0,"div",10),c.Ub(),c.Vb(53,"div",7),c.Vb(54,"label",26),c.Jc(55,"Parent's Name*"),c.Ub(),c.Rb(56,"input",27),c.Hc(57,Kt,2,0,"div",10),c.Ub(),c.Vb(58,"div",7),c.Vb(59,"label",28),c.Jc(60,"Parent's Contact.*"),c.Ub(),c.Rb(61,"input",29),c.Hc(62,jt,2,0,"div",10),c.Hc(63,Qt,2,0,"div",10),c.Ub(),c.Vb(64,"div",7),c.Hc(65,zt,3,2,"button",30),c.Hc(66,$t,4,0,"div",31),c.Ub(),c.Vb(67,"div",7),c.Hc(68,Gt,3,0,"button",32),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t&&(c.Eb(7),c.Lc(" ",e.componentName,""),c.Eb(2),c.pc("formGroup",e.adminForm),c.Eb(5),c.pc("ngIf",e.adminForm.get("rollNo").hasError("required")&&e.adminForm.get("rollNo").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("fullName").hasError("required")&&e.adminForm.get("fullName").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("email").hasError("required")&&e.adminForm.get("email").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("email").hasError("email")&&e.adminForm.get("email").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("batch").hasError("required")&&e.adminForm.get("batch").touched),c.Eb(4),c.pc("selectedIndex",1),c.Eb(1),c.pc("ngForOf",e.faculties),c.Eb(1),c.pc("ngIf",e.adminForm.get("faculty").hasError("required")&&e.adminForm.get("faculty").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("address").hasError("required")&&e.adminForm.get("address").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("dob").hasError("required")&&e.adminForm.get("dob").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("contact").hasError("required")&&e.adminForm.get("contact").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("contact").hasError("minlength")&&e.adminForm.get("contact").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("parentsName").hasError("required")&&e.adminForm.get("parentsName").touched),c.Eb(5),c.pc("ngIf",e.adminForm.get("parentsContact").hasError("required")&&e.adminForm.get("parentsContact").touched),c.Eb(1),c.pc("ngIf",e.adminForm.get("parentsContact").hasError("minlength")&&e.adminForm.get("parentsContact").touched),c.Eb(2),c.pc("ngIf",!e.showLoader),c.Eb(1),c.pc("ngIf",e.showLoader),c.Eb(2),c.pc("ngIf",e.isEditform))},directives:[n.v,n.n,n.h,n.b,n.m,n.f,r.m,n.q,n.s,r.l,n.p,n.u],styles:["form[_ngcontent-%COMP%]{padding:0 3rem;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:5rem}form[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:1.5rem;width:150px}"]}),t})();const Wt=[{path:"",children:[{path:"",component:C.a},{path:"adminRegister",component:R,canActivate:[l]},{path:"studentRegister",component:Dt,canActivate:[l]},{path:"manageRooms",component:W},{path:"manageRooms/:id",component:W},{path:"manageStaffs",component:at},{path:"staffRegister",component:Ut,canActivate:[l]},{path:"editStaff/:id",component:Ut},{path:"roomRegister",component:et,canActivate:[l]},{path:"editStudent/:username",component:Dt},{path:"manageStudents/:id",component:Rt},{path:"manageStaffs",component:at,canActivate:[l]},{path:"editRoom/:roomName",component:et},{path:"availableRooms",component:j},{path:"notices",component:v},{path:"authcredentials",component:k.a},{path:"studentResults",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-student-results"]],decls:1,vars:0,consts:[[1,"card"]],template:function(t,e){1&t&&c.Rb(0,"div",0)},styles:[""]}),t})()}]}];let Tt=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[s.f.forChild(Wt)],s.f]}),t})();var Xt=o("d2mR");let Yt=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[r.b,n.j,n.r,i.a,Tt,L.a,Xt.a]]}),t})()}}]);